{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Emma\\\\Documents\\\\GitHub\\\\Emp\\\\sports-lottery\\\\src\\\\components\\\\loginLogout\\\\login\\\\login.js\",\n    _s = $RefreshSig$();\n\nimport { Button, FormControl, Form } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport React, { useState } from 'react';\nimport classes from './login.module.css';\nimport firebase from '../../../config/firebase/firebase';\n\nconst Login = props => {\n  _s();\n\n  const [showPopup, setShowPopUp] = useState(false);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [alerts, setAlerts] = useState([]);\n  let history = useHistory();\n\n  const login = () => {\n    if (!props.loading) {\n      props.login(email, password);\n    }\n  };\n\n  const HandleSubmit = e => {\n    e.preventDefault();\n    login();\n    setTimeout(() => {\n      firebase.auth().onAuthStateChanged(user => {\n        if (!props.isLoggedIn || !user.emailVerified) {\n          setAlerts([\"alert\", \"alert-danger\"]);\n          popUpFunc();\n          setTimeout(() => {\n            props.setForgot(true);\n          });\n        } else {\n          setTimeout(() => {\n            setAlerts([\"alert\", \"alert-success\"]);\n            popUpFunc();\n            history.push(\"/play\");\n          }, 2000);\n        }\n      });\n    }, 3000);\n  };\n\n  const HandleSignup = () => {\n    props.setForgot(false);\n    history.push(\"/signup\");\n  };\n\n  const popUpFunc = () => {\n    setShowPopUp(true);\n    setTimeout(() => {\n      setShowPopUp(false);\n    }, 2000);\n    setShowPopUp(true);\n  };\n\n  const handleForgot = () => {\n    props.setForgot(false);\n    history.push(\"/forgot-password\");\n  };\n\n  showPopup ? alerts.push(classes.alertShown) : alerts.push(classes.alertHidden);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [showPopup ? alerts[1] === \"alert-danger\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: alerts.join(\" \"),\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Failure!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this), \" Invalid email or password!/ Email Not Verified\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: alerts.join(\" \"),\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Success!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this), \" Login successful!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }, this) : null, /*#__PURE__*/_jsxDEV(Form, {\n      inline: true,\n      onSubmit: e => HandleSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(FormControl, {\n        type: \"email\",\n        onChange: e => setEmail(e.target.value),\n        value: email,\n        placeholder: \"email\",\n        className: \"mr-sm-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n        type: \"password\",\n        onChange: e => setPassword(e.target.value),\n        value: password,\n        placeholder: \"password\",\n        className: \"mr-sm-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this), props.forgotPassword ? /*#__PURE__*/_jsxDEV(Button, {\n        className: classes.Forgot,\n        onClick: handleForgot,\n        children: \"forgot password?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this) : null, /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"outline-light\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: HandleSignup,\n        variant: \"outline-light\",\n        children: \"SignUp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 13\n  }, this);\n};\n\n_s(Login, \"o4IahEAPz77HVfMXo88zHx2Mvzs=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/Emma/Documents/GitHub/Emp/sports-lottery/src/components/loginLogout/login/login.js"],"names":["Button","FormControl","Form","useHistory","React","useState","classes","firebase","Login","props","showPopup","setShowPopUp","email","setEmail","password","setPassword","alerts","setAlerts","history","login","loading","HandleSubmit","e","preventDefault","setTimeout","auth","onAuthStateChanged","user","isLoggedIn","emailVerified","popUpFunc","setForgot","push","HandleSignup","handleForgot","alertShown","alertHidden","join","target","value","forgotPassword","Forgot"],"mappings":"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","sourcesContent":["import { Button, FormControl, Form } from 'react-bootstrap';\r\nimport { useHistory } from 'react-router-dom';\r\nimport React, { useState } from 'react';\r\nimport classes from './login.module.css';\r\nimport firebase from '../../../config/firebase/firebase';\r\n\r\nconst Login = (props) => {\r\n    const [showPopup, setShowPopUp] = useState(false);\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [alerts, setAlerts] = useState([]);\r\n    let history = useHistory();\r\n    const login = () => {\r\n        if (!props.loading) {\r\n            props.login(email, password);\r\n        }\r\n\r\n    };\r\n\r\n    const HandleSubmit = (e) => {\r\n        e.preventDefault();\r\n        login();\r\n        setTimeout(() => {\r\n            firebase.auth().onAuthStateChanged(user => {\r\n                if (!props.isLoggedIn || !user.emailVerified) {\r\n                    setAlerts([\"alert\", \"alert-danger\"])\r\n                    popUpFunc();\r\n                    setTimeout(() => {\r\n                        props.setForgot(true);\r\n                    })\r\n                } else {\r\n                    setTimeout(() => {\r\n                        setAlerts([\"alert\", \"alert-success\"])\r\n                        popUpFunc();\r\n                        history.push(\"/play\");\r\n                    }, 2000)\r\n                }\r\n            })\r\n\r\n        }, 3000);\r\n    }\r\n\r\n    const HandleSignup = () => {\r\n        props.setForgot(false);\r\n        history.push(\"/signup\");\r\n    }\r\n    const popUpFunc = () => {\r\n        setShowPopUp(true);\r\n\r\n        setTimeout(() => {\r\n            setShowPopUp(false);\r\n        }, 2000);\r\n        setShowPopUp(true);\r\n    }\r\n    const handleForgot = () => {\r\n        props.setForgot(false);\r\n        history.push(\"/forgot-password\");\r\n    }\r\n    showPopup ? alerts.push(classes.alertShown) : alerts.push(classes.alertHidden);\r\n    return (<div>\r\n        {showPopup ?\r\n            alerts[1] === \"alert-danger\" ?\r\n                <div className={alerts.join(\" \")}>\r\n                    <strong>Failure!</strong> Invalid email or password!/ Email Not Verified\r\n                </div>\r\n                : <div className={alerts.join(\" \")}>\r\n                    <strong>Success!</strong> Login successful!\r\n            </div>\r\n            : null\r\n\r\n        }\r\n        <Form inline onSubmit={(e) => HandleSubmit(e)}>\r\n            <FormControl type=\"email\" onChange={(e) => setEmail(e.target.value)}\r\n                value={email} placeholder=\"email\" className=\"mr-sm-2\" />\r\n            <FormControl type=\"password\" onChange={(e) => setPassword(e.target.value)}\r\n                value={password} placeholder=\"password\" className=\"mr-sm-2\" />\r\n            {props.forgotPassword ?\r\n                <Button className={classes.Forgot} onClick={handleForgot} >forgot password?</Button>\r\n                : null}\r\n            <Button type=\"submit\" variant=\"outline-light\">Login</Button>\r\n\r\n            <Button onClick={HandleSignup} variant=\"outline-light\">SignUp</Button>\r\n        </Form>\r\n    </div>);\r\n}\r\n\r\n\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}